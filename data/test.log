/*C3*/SET SCHEMA PUBLIC
create table Events (id bigint generated by default as identity (start with 1), date_end date, date_start date, img varbinary(255), title varchar(255), creator_id bigint, primary key (id))
create table Events_Location (Events_id bigint not null, locations_id bigint not null)
create table Location (DTYPE varchar(31) not null, id bigint not null, name varchar(255), primary key (id))
create table StyleMusic (id bigint generated by default as identity (start with 1), style varchar(255), primary key (id))
create table User (id bigint generated by default as identity (start with 1), password varchar(255), username varchar(255), primary key (id))
create table User_StyleMusic (User_id bigint not null, favoriteStyles_id bigint not null)
alter table Events add constraint FK_ow0478slj66ov81300bhi4mme foreign key (creator_id) references User
alter table Events_Location add constraint FK_m9a4d7dvdvej1b46x651o4yxw foreign key (locations_id) references Location
alter table Events_Location add constraint FK_2rijph8nmjt1rl54s2tumnpe3 foreign key (Events_id) references Events
alter table User_StyleMusic add constraint FK_pjftpn7mg3bkr7ovhcl1l357l foreign key (favoriteStyles_id) references StyleMusic
alter table User_StyleMusic add constraint FK_terkchasbs8dtw8e9xksq37y1 foreign key (User_id) references User
INSERT INTO USER VALUES(1,'blabla','test25')
INSERT INTO USER VALUES(2,'bibi','Test26')
INSERT INTO STYLEMUSIC VALUES(1,'rnb')
INSERT INTO USER_STYLEMUSIC VALUES(2,1)
COMMIT
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
alter table Events add column creator_user_id bigint
alter table Events add constraint FK_ecy722b8obook765y4vq4rpdg foreign key (creator_user_id) references User
/*C5*/SET SCHEMA PUBLIC
alter table Events drop constraint FK_ecy722b8obook765y4vq4rpdg
alter table Events_Location drop constraint FK_m9a4d7dvdvej1b46x651o4yxw
alter table Events_Location drop constraint FK_2rijph8nmjt1rl54s2tumnpe3
drop table Events if exists
drop table Events_Location if exists
drop table Location if exists
drop table User_StyleMusic if exists
create table Events (id bigint generated by default as identity (start with 1), date_end date, date_start date, img varbinary(255), title varchar(255), creator_user_id bigint, primary key (id))
create table Events_Location (Events_id bigint not null, locations_id bigint not null)
create table Location (DTYPE varchar(31) not null, id bigint not null, name varchar(255), primary key (id))
create table User_StyleMusic (user_id bigint not null, syleMusic_id bigint not null)
alter table Events add constraint FK_ecy722b8obook765y4vq4rpdg foreign key (creator_user_id) references User
alter table Events_Location add constraint FK_m9a4d7dvdvej1b46x651o4yxw foreign key (locations_id) references Location
alter table Events_Location add constraint FK_2rijph8nmjt1rl54s2tumnpe3 foreign key (Events_id) references Events
alter table User_StyleMusic add constraint FK_jpggtc1kn5rdi67wgia94gegt foreign key (syleMusic_id) references StyleMusic
alter table User_StyleMusic add constraint FK_j5i31583kbrcvi28q00qijoa2 foreign key (user_id) references User
/*C6*/SET SCHEMA PUBLIC
alter table Events drop constraint FK_ecy722b8obook765y4vq4rpdg
alter table Events_Location drop constraint FK_m9a4d7dvdvej1b46x651o4yxw
alter table Events_Location drop constraint FK_2rijph8nmjt1rl54s2tumnpe3
alter table User_StyleMusic drop constraint FK_jpggtc1kn5rdi67wgia94gegt
alter table User_StyleMusic drop constraint FK_j5i31583kbrcvi28q00qijoa2
drop table Events if exists
drop table Events_Location if exists
drop table Location if exists
drop table StyleMusic if exists
drop table User if exists
drop table User_StyleMusic if exists
create table Events (id bigint generated by default as identity (start with 1), date_end date, date_start date, img varbinary(255), title varchar(255), creator_user_id bigint, primary key (id))
create table Events_Location (Events_id bigint not null, locations_id bigint not null)
create table Location (DTYPE varchar(31) not null, id bigint not null, name varchar(255), primary key (id))
create table StyleMusic (styleMusic_id bigint generated by default as identity (start with 1), style varchar(255), primary key (styleMusic_id))
create table User (user_id bigint generated by default as identity (start with 1), password varchar(255), username varchar(255), primary key (user_id))
create table User_StyleMusic (user_id bigint not null, syleMusic_id bigint not null)
alter table Events add constraint FK_ecy722b8obook765y4vq4rpdg foreign key (creator_user_id) references User
alter table Events_Location add constraint FK_m9a4d7dvdvej1b46x651o4yxw foreign key (locations_id) references Location
alter table Events_Location add constraint FK_2rijph8nmjt1rl54s2tumnpe3 foreign key (Events_id) references Events
alter table User_StyleMusic add constraint FK_jpggtc1kn5rdi67wgia94gegt foreign key (syleMusic_id) references StyleMusic
alter table User_StyleMusic add constraint FK_j5i31583kbrcvi28q00qijoa2 foreign key (user_id) references User
INSERT INTO USER VALUES(1,'blabla','test25')
INSERT INTO USER VALUES(2,'bibi','Test26')
INSERT INTO STYLEMUSIC VALUES(1,'rnb')
INSERT INTO USER_STYLEMUSIC VALUES(2,1)
COMMIT
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
alter table Events drop constraint FK_ecy722b8obook765y4vq4rpdg
alter table Events_Location drop constraint FK_m9a4d7dvdvej1b46x651o4yxw
alter table Events_Location drop constraint FK_2rijph8nmjt1rl54s2tumnpe3
drop table Events if exists
drop table Events_Location if exists
drop table Location if exists
drop table User_StyleMusic if exists
create table Events (id bigint generated by default as identity (start with 1), date_end date, date_start date, img varbinary(255), title varchar(255), creator_user_id bigint, primary key (id))
create table Events_Location (Events_id bigint not null, locations_id bigint not null)
create table Location (DTYPE varchar(31) not null, id bigint not null, name varchar(255), primary key (id))
create table User_StyleMusic (User_user_id bigint not null, favoriteStyles_styleMusic_id bigint not null)
alter table User_StyleMusic add constraint UK_mi4jjs63d7jvqpnw3v9uh4sj8  unique (favoriteStyles_styleMusic_id)
alter table Events add constraint FK_ecy722b8obook765y4vq4rpdg foreign key (creator_user_id) references User
alter table Events_Location add constraint FK_m9a4d7dvdvej1b46x651o4yxw foreign key (locations_id) references Location
alter table Events_Location add constraint FK_2rijph8nmjt1rl54s2tumnpe3 foreign key (Events_id) references Events
alter table User_StyleMusic add constraint FK_mi4jjs63d7jvqpnw3v9uh4sj8 foreign key (favoriteStyles_styleMusic_id) references StyleMusic
alter table User_StyleMusic add constraint FK_s4or0ub753ypiud4c6expe6gg foreign key (User_user_id) references User
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
alter table Events drop constraint FK_ecy722b8obook765y4vq4rpdg
alter table Events_Location drop constraint FK_m9a4d7dvdvej1b46x651o4yxw
alter table Events_Location drop constraint FK_2rijph8nmjt1rl54s2tumnpe3
drop table Events if exists
drop table Events_Location if exists
drop table Location if exists
create table Events (id bigint generated by default as identity (start with 1), date_end date, date_start date, img varbinary(255), title varchar(255), creator_user_id bigint, primary key (id))
create table Events_Location (Events_id bigint not null, locations_id bigint not null)
create table Location (DTYPE varchar(31) not null, id bigint not null, name varchar(255), primary key (id))
alter table Events add constraint FK_ecy722b8obook765y4vq4rpdg foreign key (creator_user_id) references User
alter table Events_Location add constraint FK_m9a4d7dvdvej1b46x651o4yxw foreign key (locations_id) references Location
alter table Events_Location add constraint FK_2rijph8nmjt1rl54s2tumnpe3 foreign key (Events_id) references Events
alter table StyleMusic add constraint FK_esqi9j6ri8p4lmwmhhvk9vfqw foreign key (styleMusic_id) references User
DISCONNECT
<<<<<<< Updated upstream
/*C3*/SET SCHEMA PUBLIC
=======
/*C10*/SET SCHEMA PUBLIC
alter table Events drop constraint FK_ecy722b8obook765y4vq4rpdg
alter table Events_Location drop constraint FK_m9a4d7dvdvej1b46x651o4yxw
alter table Events_Location drop constraint FK_2rijph8nmjt1rl54s2tumnpe3
alter table StyleMusic drop constraint FK_esqi9j6ri8p4lmwmhhvk9vfqw
drop table Events if exists
drop table Events_Location if exists
drop table Location if exists
create table Events (id bigint generated by default as identity (start with 1), date_end date, date_start date, img varbinary(255), title varchar(255), creator_user_id bigint, primary key (id))
create table Events_Location (Events_id bigint not null, locations_id bigint not null)
create table Location (DTYPE varchar(31) not null, id bigint not null, name varchar(255), primary key (id))
alter table Events add constraint FK_ecy722b8obook765y4vq4rpdg foreign key (creator_user_id) references User
alter table Events_Location add constraint FK_m9a4d7dvdvej1b46x651o4yxw foreign key (locations_id) references Location
alter table Events_Location add constraint FK_2rijph8nmjt1rl54s2tumnpe3 foreign key (Events_id) references Events
alter table StyleMusic add constraint FK_esqi9j6ri8p4lmwmhhvk9vfqw foreign key (styleMusic_id) references User
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
alter table Events drop constraint FK_ecy722b8obook765y4vq4rpdg
alter table Events_Location drop constraint FK_m9a4d7dvdvej1b46x651o4yxw
alter table Events_Location drop constraint FK_2rijph8nmjt1rl54s2tumnpe3
drop table Events if exists
drop table Events_Location if exists
drop table Location if exists
drop table User_StyleMusic if exists
create table Events (id bigint generated by default as identity (start with 1), date_end date, date_start date, img varbinary(255), title varchar(255), creator_user_id bigint, primary key (id))
create table Events_Location (Events_id bigint not null, locations_id bigint not null)
create table Location (DTYPE varchar(31) not null, id bigint not null, name varchar(255), primary key (id))
create table User_StyleMusic (user_id bigint not null, syleMusic_id bigint not null)
alter table Events add constraint FK_ecy722b8obook765y4vq4rpdg foreign key (creator_user_id) references User
alter table Events_Location add constraint FK_m9a4d7dvdvej1b46x651o4yxw foreign key (locations_id) references Location
alter table Events_Location add constraint FK_2rijph8nmjt1rl54s2tumnpe3 foreign key (Events_id) references Events
alter table User_StyleMusic add constraint FK_jpggtc1kn5rdi67wgia94gegt foreign key (syleMusic_id) references StyleMusic
alter table User_StyleMusic add constraint FK_j5i31583kbrcvi28q00qijoa2 foreign key (user_id) references User
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
alter table Events drop constraint FK_ecy722b8obook765y4vq4rpdg
alter table Events_Location drop constraint FK_m9a4d7dvdvej1b46x651o4yxw
alter table Events_Location drop constraint FK_2rijph8nmjt1rl54s2tumnpe3
drop table Events if exists
drop table Events_Location if exists
drop table FavoriteStyles if exists
drop table Location if exists
create table Events (id bigint generated by default as identity (start with 1), date_end date, date_start date, img varbinary(255), title varchar(255), creator_user_id bigint, primary key (id))
create table Events_Location (Events_id bigint not null, locations_id bigint not null)
create table FavoriteStyles (user_id bigint not null, syleMusic_id bigint not null)
create table Location (DTYPE varchar(31) not null, id bigint not null, name varchar(255), primary key (id))
alter table Events add constraint FK_ecy722b8obook765y4vq4rpdg foreign key (creator_user_id) references User
alter table Events_Location add constraint FK_m9a4d7dvdvej1b46x651o4yxw foreign key (locations_id) references Location
alter table Events_Location add constraint FK_2rijph8nmjt1rl54s2tumnpe3 foreign key (Events_id) references Events
alter table FavoriteStyles add constraint FK_fup3qfnjhn4fk661xlhl21k27 foreign key (syleMusic_id) references StyleMusic
alter table FavoriteStyles add constraint FK_37m7xgtoyiwd12uj1n07040sb foreign key (user_id) references User
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
alter table Events drop constraint FK_ecy722b8obook765y4vq4rpdg
alter table Events_Location drop constraint FK_m9a4d7dvdvej1b46x651o4yxw
alter table Events_Location drop constraint FK_2rijph8nmjt1rl54s2tumnpe3
alter table FavoriteStyles drop constraint FK_fup3qfnjhn4fk661xlhl21k27
alter table FavoriteStyles drop constraint FK_37m7xgtoyiwd12uj1n07040sb
drop table Events if exists
drop table Events_Location if exists
drop table FavoriteStyles if exists
drop table Location if exists
create table Events (id bigint generated by default as identity (start with 1), date_end date, date_start date, img varbinary(255), title varchar(255), creator_user_id bigint, primary key (id))
create table Events_Location (Events_id bigint not null, locations_id bigint not null)
create table FavoriteStyles (user_id bigint not null, syleMusic_id bigint not null)
create table Location (DTYPE varchar(31) not null, id bigint not null, name varchar(255), primary key (id))
alter table Events add constraint FK_ecy722b8obook765y4vq4rpdg foreign key (creator_user_id) references User
alter table Events_Location add constraint FK_m9a4d7dvdvej1b46x651o4yxw foreign key (locations_id) references Location
alter table Events_Location add constraint FK_2rijph8nmjt1rl54s2tumnpe3 foreign key (Events_id) references Events
alter table FavoriteStyles add constraint FK_fup3qfnjhn4fk661xlhl21k27 foreign key (syleMusic_id) references StyleMusic
alter table FavoriteStyles add constraint FK_37m7xgtoyiwd12uj1n07040sb foreign key (user_id) references User
INSERT INTO USER VALUES(3,'bibi','5555555')
COMMIT
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
alter table Events drop constraint FK_ecy722b8obook765y4vq4rpdg
alter table Events_Location drop constraint FK_m9a4d7dvdvej1b46x651o4yxw
alter table Events_Location drop constraint FK_2rijph8nmjt1rl54s2tumnpe3
alter table FavoriteStyles drop constraint FK_fup3qfnjhn4fk661xlhl21k27
alter table FavoriteStyles drop constraint FK_37m7xgtoyiwd12uj1n07040sb
drop table Events if exists
drop table Events_Location if exists
drop table FavoriteStyles if exists
drop table Location if exists
create table Events (id bigint generated by default as identity (start with 1), date_end date, date_start date, img varbinary(255), title varchar(255), creator_user_id bigint, primary key (id))
create table Events_Location (Events_id bigint not null, locations_id bigint not null)
create table FavoriteStyles (user_id bigint not null, syleMusic_id bigint not null)
create table Location (DTYPE varchar(31) not null, id bigint not null, name varchar(255), primary key (id))
alter table Events add constraint FK_ecy722b8obook765y4vq4rpdg foreign key (creator_user_id) references User
alter table Events_Location add constraint FK_m9a4d7dvdvej1b46x651o4yxw foreign key (locations_id) references Location
alter table Events_Location add constraint FK_2rijph8nmjt1rl54s2tumnpe3 foreign key (Events_id) references Events
alter table FavoriteStyles add constraint FK_fup3qfnjhn4fk661xlhl21k27 foreign key (syleMusic_id) references StyleMusic
alter table FavoriteStyles add constraint FK_37m7xgtoyiwd12uj1n07040sb foreign key (user_id) references User
DISCONNECT
/*C2*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/DISCONNECT
/*C5*/DISCONNECT
/*C7*/SET SCHEMA PUBLIC
>>>>>>> Stashed changes
DISCONNECT
